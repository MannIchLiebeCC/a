@model IEnumerable<a.Models.GP_Categories>

@{
	ViewData["Title"] = "Index";
}
<div class="container p-3">
	<div class="row pt-4">
		<div class="col-6">
			<h2 class="text-primary">Gate Pass List</h2>
		</div>
		<div class="col-6 text-end">
			<a asp-controller="GP" asp-action="Create" class="btn btn-primary">Create New Gate Pass</a>
		</div>
	</div>
	<br /><br />
	<table style="width:100%">
		<thead>
			<tr>
				<th>Gate Pass Number</th>
				<th>Application</th>
				<th>Name</th>
				<th>Address</th>
				<th>Date</th>
				<th>Class</th>
				<th>Department</th>
				<th>Year</th>
				<th>Plate Number</th>
				<th>Date Expiration</th>
				<th>Vehicle</th>
				<th>Marker</th>
				<th>Color</th>
				<th>Approval 1</th>
				<th>Approval 2</th>
				<th>Approval 3</th>
				<th>Profile</th>

				<th>Action</th>

			</tr>
		</thead>
		<tbody>
			@foreach (var obj in Model)
			{
				<tr>
					<td width="10%">
						@obj.GP_Num 
					</td>
					<td width="20%">
						@obj.GP_App4sch

					</td>
					<td width="20%">
						@obj.GP_Name

					</td>
					<td width="10%">
						@obj.GP_Address

					</td>
					<td width="20%">
						@obj.GP_Date

					</td>
					<td width="20%">
						@obj.GP_Classification

					</td>
					<td width="20%">
						@obj.GP_Department

					</td>
					<td width="20%">
						@obj.GP_Year

					</td>
					<td width="20%">
						@obj.GP_PlateNumber

					</td>
					<td width="20%">
						@obj.GP_DateExpiration

					</td>
					<td width="20%">
						@obj.GP_Vehicle

					</td>
					<td width="20%">
						@obj.GP_Marker

					</td>
					<td width="20%">
						@obj.GP_Color

					</td>

					<td width="20%">
						@obj.GP_Approval1

					</td>
					<td width="20%">
						@obj.GP_Approval2

					</td>
					<td width="20%">
						@obj.GP_Approval3
					</td>
					<td>

						@if (obj.GP_LoadnRegis != null)
						{
							<img src="data:image/jpeg;base64,@Convert.ToBase64String(obj.GP_LoadnRegis)"
								 width="70" height="70" style="object-fit:cover;" />
						}
						else
						{
							<span>No Image</span>
						}
					</td>


					<td>
						@if (obj.GP_LoadnRegis != null)
						{
							<a asp-action="Download" asp-route-id="@obj.GP_Num" class="btn btn-sm btn-success">Download</a>
							<a asp-action="Details" asp-route-id="@obj.GP_Num" class="btn btn-info btn-sm">View</a>
							<a asp-action="Edit" asp-route-id="@obj.GP_Num" class="btn btn-warning btn-sm">Edit</a>
							<a asp-action="Delete" asp-route-id="@obj.GP_Num" class="btn btn-danger btn-sm">Delete</a>
						}
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>
